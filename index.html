<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙˆØª Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØµØ±ÙŠ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; min-height: 100vh; transition: background 0.3s; }
        h1 { color: #007bff; text-align: center; margin-bottom: 20px; }
        .card { background: white; padding: 20px; border-radius: 15px; margin: 15px 0; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .card h3 { margin-top: 0; color: #28a745; }
        button { background: #007bff; color: white; padding: 16px; border: none; border-radius: 12px; font-size: 18px; margin: 10px 0; width: 100%; cursor: pointer; transition: 0.3s; }
        button:hover { opacity: 0.9; }
        .btn-success { background: #28a745; }
        .btn-info { background: #17a2b8; }
        .btn-warning { background: #ffc107; color: #212529; }
        .btn-close { background: #dc3545; }
        .streak { font-size: 24px; text-align: center; color: #ff6b00; }
    </style>
</head>
<body>
    <h1>ğŸ‰ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¨Ø­</h1>

    <div class="card" id="user-info">
        <h3>ğŸ‘¤ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</h3>
        <div id="user-details">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>

    <div class="card">
        <h3>ğŸ”¥ Ø§Ù„Ø³ØªØ±Ø§Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
        <div class="streak">Ø§ÙØªØ­ Ø§Ù„Ø´Ø§Øª Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø³ØªØ±Ø§Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
    </div>

    <button onclick="showBalance()">ğŸ’° Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯ÙŠ</button>
    <button class="btn-success" onclick="doCheckin()">ğŸ ØªØ³Ø¬ÙŠÙ„ ÙŠÙˆÙ…ÙŠ</button>
    <button class="btn-info" onclick="showTasks()">ğŸ“‹ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù…</button>
    <button class="btn-warning" onclick="showLeaderboard()">ğŸ† Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ</button>
    <button onclick="shareReferral()">ğŸ‘¥ Ø´Ø§Ø±Ùƒ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø©</button>
    <button class="btn-close" onclick="Telegram.WebApp.close()">ğŸ”™ Ø¥ØºÙ„Ø§Ù‚</button>

    <script>
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();

        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        document.body.style.backgroundColor = Telegram.WebApp.themeParams.bg_color || "#f0f0f0";

        const user = Telegram.WebApp.initDataUnsafe.user;
        const botUsername = "YOUR_BOT_USERNAME";  // ØºÙŠÙ‘Ø±Ù‡ Ø¨Ù†ÙØ³ Ø§Ù„Ù„ÙŠ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø§ÙŠØ«ÙˆÙ†

        if (user) {
            document.getElementById("user-details").innerHTML = `
                <strong>Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.first_name}!</strong><br>
                Ø§Ù„ÙŠÙˆØ²Ø±Ù†ÙŠÙ…: ${user.username ? '@' + user.username : 'ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯'}<br>
                Ø§Ù„Ù…Ø¹Ø±Ù: ${user.id}
            `;
        }

        // Ø§Ù„Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Main Button)
        Telegram.WebApp.MainButton.text = "ğŸ ØªØ³Ø¬ÙŠÙ„ ÙŠÙˆÙ…ÙŠ Ø§Ù„Ø¢Ù†";
        Telegram.WebApp.MainButton.color = "#28a745";
        Telegram.WebApp.MainButton.show();
        Telegram.WebApp.MainButton.onClick(doCheckin);

        function doCheckin() {
            Telegram.WebApp.HapticFeedback.notificationOccurred("success");
            Telegram.WebApp.sendData("daily_checkin");
            Telegram.WebApp.showAlert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠ! ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´Ø§Øª ğŸ“©");
        }

        function showBalance() {
            Telegram.WebApp.sendData("balance");
            Telegram.WebApp.showAlert("Ø³ÙŠØ±Ø³Ù„ Ø§Ù„Ø¨ÙˆØª Ø±ØµÙŠØ¯Ùƒ ÙÙŠ Ø§Ù„Ø´Ø§Øª âš¡");
        }

        function showTasks() {
            Telegram.WebApp.sendData("tasks");
            Telegram.WebApp.showAlert("Ø³ÙŠØ±Ø³Ù„ Ø§Ù„Ø¨ÙˆØª Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… ÙÙŠ Ø§Ù„Ø´Ø§Øª ğŸ“‹");
        }

        function showLeaderboard() {
            Telegram.WebApp.sendData("leaderboard");
            Telegram.WebApp.showAlert("Ø³ÙŠØ±Ø³Ù„ Ø§Ù„Ø¨ÙˆØª Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ ğŸ†");
        }

        function shareReferral() {
            const refLink = `https://t.me/\( {botUsername}?start= \){user.id}`;
            Telegram.WebApp.shareUrl(refLink, "ØªØ¹Ø§Ù„Ù‰ Ø§Ø±Ø¨Ø­ Ù…Ø¹Ø§ÙŠØ§ Ù†Ù‚Ø§Ø· Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Ø¨ÙˆØª Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ù…ØµØ±ÙŠ! ğŸ’°ğŸ”¥");
        }
    </script>
</body>
</html>
